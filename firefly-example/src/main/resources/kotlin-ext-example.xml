<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.fireflysource.com/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.fireflysource.com/beans http://www.fireflysource.com/beans.xsd">

    <!-- Kotlin extension -->
    <bean id="httpCoroutineLocal" class="com.firefly.kotlin.ext.common.CoroutineLocal"/>

    <bean id="asyncHttpContextTransactionalManager"
          class="com.firefly.kotlin.ext.db.AsyncHttpContextTransactionalManager">
        <constructor>
            <argument type="com.firefly.kotlin.ext.common.CoroutineLocal" ref="httpCoroutineLocal"/>
            <argument type="com.firefly.db.SQLClient" ref="jdbcClient"/>
        </constructor>
    </bean>
</beans>